# 关键词筛选配置功能使用指南

## 概述

新闻订阅工具现已支持关键词配置功能，用户可以通过可视化界面编辑、管理关键词库，自定义科技政策相关的关键词分类和内容，以提高新闻筛选的准确性和针对性。

## 主要功能

### 🔧 关键词配置管理
- **可视化编辑**: 通过GUI界面编辑关键词库
- **分类管理**: 支持关键词分类的增删改查
- **批量操作**: 支持关键词的批量导入导出
- **实时保存**: 配置更改自动保存到本地文件

### 📝 关键词编辑器
- **分类列表**: 左侧显示所有关键词分类
- **关键词编辑**: 右侧编辑选中分类的关键词
- **操作功能**: 排序、去重、清空等便捷操作
- **统计信息**: 实时显示关键词数量统计

### 📁 导入导出功能
- **JSON格式**: 支持JSON格式的配置文件
- **文本格式**: 支持纯文本格式的关键词列表
- **合并导入**: 可选择合并或替换现有配置
- **分类导出**: 支持单个分类的导出

## 界面说明

### 筛选配置界面

在筛选配置对话框的"关键词筛选"标签页中，新增了关键词管理区域：

#### 关键词管理按钮
| 按钮 | 功能 | 说明 |
|------|------|------|
| **编辑关键词** | 打开关键词编辑器 | 可视化编辑关键词库 |
| **导入关键词** | 从文件导入 | 支持JSON格式文件 |
| **导出关键词** | 导出到文件 | 备份当前关键词配置 |
| **重置为默认** | 恢复默认配置 | 重置为系统预设关键词 |

#### 统计信息显示
- 显示当前关键词库的分类数量和关键词总数
- 实时更新配置变更后的统计信息

### 关键词编辑器界面

#### 左侧分类管理
- **分类列表**: 显示所有关键词分类
- **新增分类**: 添加新的关键词分类
- **重命名分类**: 修改分类名称
- **删除分类**: 删除不需要的分类

#### 右侧关键词编辑
- **关键词列表**: 文本编辑器，每行一个关键词
- **保存关键词**: 保存当前分类的关键词修改
- **排序关键词**: 按字母顺序排序
- **去重关键词**: 移除重复的关键词
- **清空关键词**: 清空当前分类的所有关键词

#### 底部操作区域
- **导入分类**: 从文件导入关键词分类
- **导出分类**: 导出当前选中的分类
- **重置为默认**: 恢复系统默认关键词库
- **保存并关闭**: 保存所有修改并关闭编辑器

## 使用方法

### 1. 打开关键词编辑器

#### 步骤1：启动GUI
```bash
python gui.py
```

#### 步骤2：打开筛选配置
- 点击菜单栏 **"筛选"** → **"筛选配置"**

#### 步骤3：进入关键词管理
- 选择 **"关键词筛选"** 标签页
- 点击 **"编辑关键词"** 按钮

### 2. 编辑关键词

#### 添加新分类
1. 在左侧分类列表中点击 **"新增分类"**
2. 输入分类名称（如："新兴技术"）
3. 在右侧编辑器中输入关键词，每行一个
4. 点击 **"保存关键词"**

#### 修改现有分类
1. 在左侧选择要修改的分类
2. 在右侧编辑器中修改关键词列表
3. 使用 **"排序关键词"** 或 **"去重关键词"** 优化列表
4. 点击 **"保存关键词"**

#### 删除分类
1. 在左侧选择要删除的分类
2. 点击 **"删除分类"**
3. 确认删除操作

### 3. 导入导出操作

#### 导入关键词
1. 准备JSON格式的关键词文件：
```json
{
  "人工智能": ["机器学习", "深度学习", "神经网络"],
  "区块链": ["比特币", "以太坊", "智能合约"]
}
```
2. 点击 **"导入关键词"** 按钮
3. 选择要导入的JSON文件
4. 系统会合并导入的关键词到现有配置

#### 导出关键词
1. 点击 **"导出关键词"** 按钮
2. 选择保存位置和文件名
3. 系统会导出完整的关键词配置

#### 导出单个分类
1. 在关键词编辑器中选择要导出的分类
2. 点击 **"导出分类"** 按钮
3. 选择导出格式（JSON或TXT）
4. 保存文件

## 配置文件

### 存储位置
关键词配置自动保存到：
```
config/keywords.json
```

### 文件格式
```json
{
  "人工智能": [
    "机器学习",
    "深度学习",
    "神经网络",
    "自然语言处理"
  ],
  "区块链技术": [
    "比特币",
    "以太坊",
    "智能合约",
    "去中心化"
  ],
  "量子计算": [
    "量子比特",
    "量子纠缠",
    "量子算法"
  ]
}
```

### 默认分类
系统预设的关键词分类包括：
- **人工智能**: AI、机器学习、深度学习等
- **区块链技术**: 比特币、以太坊、智能合约等
- **量子计算**: 量子比特、量子算法等
- **生物技术**: 基因编辑、生物工程等
- **新能源**: 太阳能、风能、电池技术等
- **航空航天**: 火箭、卫星、太空探索等

## 最佳实践

### 1. 关键词组织
- **分类明确**: 按技术领域或应用场景分类
- **层次清晰**: 避免分类之间的重叠
- **命名规范**: 使用清晰、一致的分类命名

### 2. 关键词选择
- **专业术语**: 包含领域专业术语
- **通用词汇**: 包含相关的通用词汇
- **中英文**: 同时包含中文和英文关键词
- **同义词**: 包含同义词和相关词汇

### 3. 维护更新
- **定期审查**: 定期检查和更新关键词库
- **效果评估**: 根据筛选效果调整关键词
- **备份配置**: 定期备份关键词配置文件
- **版本管理**: 记录重要的配置变更

### 4. 团队协作
- **标准化**: 建立团队统一的关键词标准
- **共享配置**: 通过导入导出功能共享配置
- **分工管理**: 不同成员负责不同分类的维护
- **定期同步**: 定期同步团队的关键词配置

## 高级功能

### 1. 批量操作
- **批量导入**: 一次性导入多个分类
- **批量编辑**: 使用文本编辑器批量修改
- **批量去重**: 跨分类的关键词去重
- **批量排序**: 所有分类的关键词排序

### 2. 配置管理
- **配置备份**: 自动备份配置文件
- **版本控制**: 支持配置的版本管理
- **配置同步**: 多设备间的配置同步
- **配置验证**: 自动验证配置文件格式

### 3. 性能优化
- **关键词索引**: 自动建立关键词索引
- **匹配优化**: 优化关键词匹配算法
- **缓存机制**: 缓存常用的匹配结果
- **并行处理**: 支持并行关键词匹配

## 故障排除

### 常见问题

#### Q: 关键词编辑器打开失败
A: 可能原因和解决方法：
- 检查配置文件权限
- 重新启动GUI应用
- 检查关键词配置文件格式

#### Q: 导入关键词失败
A: 检查以下项目：
- 文件格式是否为有效的JSON
- 文件编码是否为UTF-8
- JSON结构是否正确

#### Q: 关键词配置不生效
A: 解决步骤：
- 确认已保存关键词修改
- 重新启动筛选功能
- 检查关键词筛选是否启用

#### Q: 配置文件丢失
A: 恢复方法：
- 点击"重置为默认"恢复默认配置
- 从备份文件中恢复
- 重新手动配置关键词

### 调试技巧
1. **查看配置文件**: 直接检查config/keywords.json文件
2. **测试关键词**: 使用简单的测试文本验证关键词匹配
3. **日志检查**: 查看应用日志中的关键词相关信息
4. **逐步测试**: 逐个分类测试关键词效果

## 技术说明

### 架构设计
- **配置管理器**: KeywordConfigManager负责配置的CRUD操作
- **编辑器对话框**: KeywordEditorDialog提供可视化编辑界面
- **筛选器集成**: KeywordFilter自动使用配置管理器的关键词
- **持久化存储**: JSON文件格式的本地存储

### 数据流程
1. **加载**: 启动时从配置文件加载关键词
2. **编辑**: 通过GUI编辑器修改关键词
3. **保存**: 实时保存到配置文件
4. **应用**: 筛选器自动使用最新配置

关键词配置功能为新闻订阅工具提供了强大的自定义能力，用户可以根据具体需求调整关键词库，提高新闻筛选的精准度和实用性。
